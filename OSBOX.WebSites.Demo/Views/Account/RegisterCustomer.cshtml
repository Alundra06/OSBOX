@model OSBOX.Data.ViewModels.CustomerRegisterViewModel
@{
    ViewBag.Title = "Add a new customer record";
   
}


@{
    Layout = "~/Views/Shared/_SystemIndexLayoutPage.cshtml";
}

<h2>@ViewBag.Title.</h2>
@*<div id="progress" class="modalLoading" />*@



@*@using (Ajax.BeginForm("RegisterCustomer", "Account",
                                   new AjaxOptions
                                   {
                                       //Confirm = "Are you sure you want to delete this folder?",
                                       HttpMethod = "POST",
                                        OnSuccess = "onSuccess",
                                       //InsertionMode = InsertionMode..Replace,
                                       //UpdateTargetId = "displayme",
                                       LoadingElementId = "progress"
                                   },
                                   new { @class = "form-horizontal", role = "form" }
                                   ))
    {*@









@using (Html.BeginForm("RegisterCustomer", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    // @Html.AntiForgeryToken()





    <div class="row">
        <div class="col-sm-5">
        

                <div class="form-horizontal">
                    @*<h4>Create a new customer account.</h4>*@
                    <hr />



                    <div class="form-group">
                        @Html.LabelFor(m => m.ID_Code, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.ID_Code, new { @class = "form-control", data_otf_autocomplete = "/Account/AutoCompleteAccountID" })
                            @*<input class="form-control" id="ID_Code" type="search" name="ID_Code" data-otf-autocomplete="@Url.Action("AutoCompleteAccountID")" />*@
                            @Html.ValidationMessageFor(m => m.ID_Code)

                            @if (!ViewData.ModelState.IsValid)
                            {
                                <span class="field-validation-error">
                                     @ViewData.ModelState["ExistingID_Code"].Errors[0].ErrorMessage
                                </span>
                            }
                            @*@Html.ValidationMessage("ExistingID_Code")*@

                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.Password, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Password)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.ConfirmPassword)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.First_Name, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.First_Name, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Middle_name, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Middle_name, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Last_Name, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Last_Name, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Business_Name, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Business_Name, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Name_Prefix, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Name_Prefix, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.LegalName, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.LegalName, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Phone_Number, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Phone_Number, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Phone_Number)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Cell_Phone, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Cell_Phone, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Cell_Phone)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Fax, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Fax, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Fax)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Email, new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Email)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.Label("", " ", new { @class = "col-sm-2 control-label" })
                        <div class="col-sm-10">
                            @Html.CheckBox("CreateBusiness", false) Create a business for this customer?
                        </div>
                    </div>






                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">

                            <input type="submit" class="btn btn-default" value="Register" />
                        </div>
                    </div>
                </div> @*//--End of the form*@

               
            
        </div>
       
        
        @* ------------------------------------------- *@
        @* ----------------The address form section -------- *@
        @* ------------------------------------------- *@

         <div class="col-sm-7">
            @* The address part *@
        <div class="form-horizontal">
            @*<h4>Create a new customer account.</h4>*@
            <h4>Address Information</h4>
            <hr />



            <div class="form-group">
                
                @Html.LabelFor(m => m.Street_Adr1, new { @class = "col-sm-3 control-label" })
                <div class="col-sm-9">
                    @Html.TextBoxFor(m => m.Street_Adr1, new { @class = "form-control"})
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Street_Adr2, new { @class = "col-sm-3 control-label" })
                <div class="col-sm-9">
                    @Html.TextBoxFor(m => m.Street_Adr2, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.City, new { @class = "col-sm-3 control-label" })
                <div class="col-sm-9">
                    @Html.TextBoxFor(m => m.City, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.State, new { @class = "col-sm-3 control-label" })
                <div class="col-sm-9">
                    
                    @Html.DropDownListFor(m => m.State, Model.States, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.ZipCode, new { @class = "col-sm-3 control-label" })
                <div class="col-sm-9">
                    @Html.TextBoxFor(m => m.ZipCode, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.ZipCode)
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Addresstype, new { @class = "col-sm-3 control-label" })
                <div class="col-sm-9">
                    @Html.TextBoxFor(m => m.Addresstype, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Addresstype)
                </div>
            </div>


        </div>
    </div>

    </div>


}


@section Scripts {
  

    <script>
    @*Function to redirect to the customer home page if the form was submitted correctly*@
        //show the
        $("form").submit(LoadingModal);

    </script>
}
